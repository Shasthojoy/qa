<%= form_for @user do |f| %>
  <%= f.error_messages %>
  <% if @user.new_record? %>
    <div class="control-group">
      <%= f.label :username %>
      <div class="controls">
        <%= f.text_field :username %>
      </div>
    </div>
  <% end %>
  <div class="control-group">
    <%= f.label :email, "Email Address" %>
    <div class="controls">
      <%= f.text_field :email %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :password %>
    <div class="controls">
      <%= f.password_field :password, :autocomplete => :off %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :password_confirmation, "Confirm Password" %>
    <div class="controls">
      <%= f.password_field :password_confirmation, :autocomplete => :off %>
      <% unless @user.new_record? %><span class="help-block">Leave blank if you haven't updated your password</span><% end %>
    </div>
  </div>
  <% unless @user.new_record? %>
    <div class="control-group">
      <%= f.label :about_me %>
      <div class="controls">
        <%= f.text_area :about_me, :class => :xlarge %>
      </div>
    </div>
    <div class="control-group">
      <%= f.label :twitter, "Twitter Username" %>
      <div class="controls">
        <div class="input-prepend">
          <span class="add-on">@</span>
          <%= f.text_field :twitter %>
        </div>
      </div>
    </div>
  <% end %>
  <div class="actions">
    <%= f.submit (@user.new_record? ? "Sign up" : "Update"), :class => "btn primary" %>
  </div>
<% end %>
